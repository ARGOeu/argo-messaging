"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9685],{2800:(e,s,t)=>{t.r(s),t.d(s,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>d});var i=t(4848),n=t(8453);const o={id:"replaying_guide",title:"Replaying Messages",sidebar_position:5},a=void 0,r={id:"guides/replaying_guide",title:"Replaying Messages",description:"Subscriptions\u2019 messages can still be accessed despite the fact that a Subscriber might have acknowledged them.",source:"@site/docs/guides/replaying_guide.md",sourceDirName:"guides",slug:"/guides/replaying_guide",permalink:"/argo-messaging/docs/guides/replaying_guide",draft:!1,unlisted:!1,tags:[],version:"current",sidebarPosition:5,frontMatter:{id:"replaying_guide",title:"Replaying Messages",sidebar_position:5},sidebar:"tutorialSidebar",previous:{title:"Receiving messages using Push",permalink:"/argo-messaging/docs/guides/subscriber-push_guide"},next:{title:"Metrics Guide",permalink:"/argo-messaging/docs/guides/guide_metrics"}},c={},d=[{value:"Before you start",id:"before-you-start",level:2},{value:"Get Subscription&#39;s offsets",id:"get-subscriptions-offsets",level:2},{value:"Get Subscription&#39;s offsets by timestamp",id:"get-subscriptions-offsets-by-timestamp",level:2},{value:"Move Subscription&#39;s offsets",id:"move-subscriptions-offsets",level:2}];function l(e){const s={a:"a",h2:"h2",p:"p",...(0,n.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.p,{children:"Subscriptions\u2019 messages can still be accessed despite the fact that a Subscriber might have acknowledged them."}),"\n",(0,i.jsx)(s.p,{children:"This functionality is possible through the subscription\u2019s offset modification. Each subscriptions holds three indices(offsets) that describe the messages that is providing (max:300, min:220, current: 288)."}),"\n",(0,i.jsx)(s.p,{children:"Whenever a message is acknowledged the current offset is incremented, indicating to the subscriber that the next message is available for consumption."}),"\n",(0,i.jsx)(s.p,{children:"In addition AMS provides the subscriber with the ability to seek offsets for a specific timestamp,the API will provide the closest possible offset it can find for the provided timestamp."}),"\n",(0,i.jsx)(s.p,{children:"Now that the subscriber has managed to retrieve the subscription\u2019s offset, we can use the modifyOffset api call  to move the indices around and re-consume/replay a subscription\u2019s messages."}),"\n",(0,i.jsx)(s.p,{children:"For example, if we have the offsets(max:300, min:220, current: 288), moving the current offset to 285, will allow the subscriber to again consume the messages [286,287,288]."}),"\n",(0,i.jsx)(s.p,{children:"Last but not least, it is important to note that a message is being kept available through the AMS api for 7 days. After that time period has passed, it is no longer available and no offset can access it."}),"\n",(0,i.jsx)(s.h2,{id:"before-you-start",children:"Before you start"}),"\n",(0,i.jsxs)(s.p,{children:["In order to get an account on the ARGO Messaging Service, submit a request through the ",(0,i.jsx)(s.a,{href:"https://ams-register.argo.grnet.gr/",children:"ARGO Messaging Service account form"})]}),"\n",(0,i.jsx)(s.p,{children:"Upon account approval, you will receive information via e-mail about your new project along with an API token."}),"\n",(0,i.jsx)(s.h2,{id:"get-subscriptions-offsets",children:"Get Subscription's offsets"}),"\n",(0,i.jsxs)(s.p,{children:["A subscription\u2019s offsets can be accessed through the API using the following http call ",(0,i.jsx)(s.a,{href:"/argo-messaging/docs/api_advanced/api_subscriptions#get-offsets",children:"Get Subscription's offsets"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"get-subscriptions-offsets-by-timestamp",children:"Get Subscription's offsets by timestamp"}),"\n",(0,i.jsxs)(s.p,{children:["The following http call gives access to the aforementioned functionality ",(0,i.jsx)(s.a,{href:"/argo-messaging/docs/api_advanced/api_subscriptions#get-offset-timestamp",children:"Get Subscription's offsets by timestamp"}),"."]}),"\n",(0,i.jsx)(s.h2,{id:"move-subscriptions-offsets",children:"Move Subscription's offsets"}),"\n",(0,i.jsxs)(s.p,{children:["The following http call gives access to the modifyOffset api call ",(0,i.jsx)(s.a,{href:"/argo-messaging/docs/api_advanced/api_subscriptions#modify-offsets",children:"Move Subscription's offsets"})," to move the indices around and re-consume/replay a subscription\u2019s messages."]})]})}function u(e={}){const{wrapper:s}={...(0,n.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(l,{...e})}):l(e)}},8453:(e,s,t)=>{t.d(s,{R:()=>a,x:()=>r});var i=t(6540);const n={},o=i.createContext(n);function a(e){const s=i.useContext(o);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function r(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:a(e.components),i.createElement(o.Provider,{value:s},e.children)}}}]);