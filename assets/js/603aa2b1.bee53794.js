"use strict";(self.webpackChunkargo_messaging=self.webpackChunkargo_messaging||[]).push([[286],{3905:function(e,t,n){n.d(t,{Zo:function(){return l},kt:function(){return f}});var r=n(7294);function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function s(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}var c=r.createContext({}),u=function(e){var t=r.useContext(c),n=t;return e&&(n="function"==typeof e?e(t):i(i({},t),e)),n},l=function(e){var t=u(e.components);return r.createElement(c.Provider,{value:t},e.children)},p={inlineCode:"code",wrapper:function(e){var t=e.children;return r.createElement(r.Fragment,{},t)}},d=r.forwardRef((function(e,t){var n=e.components,o=e.mdxType,a=e.originalType,c=e.parentName,l=s(e,["components","mdxType","originalType","parentName"]),d=u(n),f=o,m=d["".concat(c,".").concat(f)]||d[f]||p[f]||a;return n?r.createElement(m,i(i({ref:t},l),{},{components:n})):r.createElement(m,i({ref:t},l))}));function f(e,t){var n=arguments,o=t&&t.mdxType;if("string"==typeof e||o){var a=n.length,i=new Array(a);i[0]=d;var s={};for(var c in t)hasOwnProperty.call(t,c)&&(s[c]=t[c]);s.originalType=e,s.mdxType="string"==typeof e?e:o,i[1]=s;for(var u=2;u<a;u++)i[u]=n[u];return r.createElement.apply(null,i)}return r.createElement.apply(null,n)}d.displayName="MDXCreateElement"},3963:function(e,t,n){n.r(t),n.d(t,{assets:function(){return l},contentTitle:function(){return c},default:function(){return f},frontMatter:function(){return s},metadata:function(){return u},toc:function(){return p}});var r=n(7462),o=n(3366),a=(n(7294),n(3905)),i=["components"],s={id:"qa_ruby",title:"Q & A - Ruby specifics"},c=void 0,u={unversionedId:"qa_ruby",id:"qa_ruby",title:"Q & A - Ruby specifics",description:"Questions and answers based on problems encountered during implementation.",source:"@site/docs/qa_ruby.md",sourceDirName:".",slug:"/qa_ruby",permalink:"/argo-messaging/docs/qa_ruby",draft:!1,tags:[],version:"current",frontMatter:{id:"qa_ruby",title:"Q & A - Ruby specifics"},sidebar:"someSidebar",previous:{title:"Q & A - General Questions",permalink:"/argo-messaging/docs/qa"},next:{title:"Terms of Use",permalink:"/argo-messaging/docs/terms"}},l={},p=[{value:"Base64 encoded string in Ruby",id:"base64-encoded-string-in-ruby",level:2}],d={toc:p};function f(e){var t=e.components,n=(0,o.Z)(e,i);return(0,a.kt)("wrapper",(0,r.Z)({},d,n,{components:t,mdxType:"MDXLayout"}),(0,a.kt)("p",null,"Questions and answers based on problems encountered during implementation. "),(0,a.kt)("h2",{id:"base64-encoded-string-in-ruby"},"Base64 encoded string in Ruby"),(0,a.kt)("p",null,"The inbuilt Base64 library in Ruby is adding some '\\n's."),(0,a.kt)("p",null,"We advice you to use ",(0,a.kt)("strong",{parentName:"p"},"Base64.strict_encode64()"),", which does not add newlines. "),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"http://ruby-doc.org/stdlib/libdoc/base64/rdoc/classes/Base64.html"},"The Ruby docs"),' are somewhat confusing, the b64encode method is supposed to add a newline for every 60th character, and the example for the encode64 method is actually using the b64encode method. It seems the pack("m") method for the Array class used by encode64 also adds the newlines. I would consider it a design bug that this is not optional.'),(0,a.kt)("p",null,"You could either remove the newlines yourself, or if you're using rails, there's ",(0,a.kt)("a",{parentName:"p",href:"http://api.rubyonrails.org/classes/ActiveSupport/CoreExtensions/Base64/Encoding.html"},"ActiveSupport::CoreExtensions::Base64::Encoding")," with the encode64s method."),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("a",{parentName:"li",href:"http://stackoverflow.com/questions/2620975/strange-n-in-base64-encoded-string-in-ruby"},"Solution at Stackoverflow"))))}f.isMDXComponent=!0}}]);