(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{83:function(e,t,s){"use strict";s.r(t),s.d(t,"frontMatter",(function(){return o})),s.d(t,"metadata",(function(){return a})),s.d(t,"rightToc",(function(){return c})),s.d(t,"default",(function(){return p}));var i=s(2),n=s(6),r=(s(0),s(92)),o={id:"replaying_guide",title:"Replaying Messages"},a={unversionedId:"replaying_guide",id:"replaying_guide",isDocsHomePage:!1,title:"Replaying Messages",description:"Subscriptions\u2019 messages can still be accessed despite the fact that a Subscriber might have acknowledged them.",source:"@site/docs/replaying_guide.md",permalink:"/argo-messaging/docs/replaying_guide",sidebar:"someSidebar",previous:{title:"Receiving messages using Push",permalink:"/argo-messaging/docs/subscriber-push_guide"},next:{title:"How to use the service",permalink:"/argo-messaging/docs/how_to_use"}},c=[{value:"Before you start",id:"before-you-start",children:[]},{value:"Get Subscription&#39;s offsets",id:"get-subscriptions-offsets",children:[]},{value:"Get Subscription&#39;s offsets by timestamp",id:"get-subscriptions-offsets-by-timestamp",children:[]},{value:"Move Subscription&#39;s offsets",id:"move-subscriptions-offsets",children:[]}],u={rightToc:c};function p(e){var t=e.components,s=Object(n.a)(e,["components"]);return Object(r.b)("wrapper",Object(i.a)({},u,s,{components:t,mdxType:"MDXLayout"}),Object(r.b)("p",null,"Subscriptions\u2019 messages can still be accessed despite the fact that a Subscriber might have acknowledged them."),Object(r.b)("p",null,"This functionality is possible through the subscription\u2019s offset modification.Each subscriptions holds three indices(offsets) that describe the messages that is providing (max:300, min:220, current: 288)."),Object(r.b)("p",null,"Whenever a message is acknowledged the current offset is incremented, indicating to the subscriber that the next message is available for consumption."),Object(r.b)("p",null,"In addition AMS provides the subscriber with the ability to seek offsets for a specific timestamp,the API will provide the closest possible offset it can find for the provided timestamp."),Object(r.b)("p",null,"Now that the subscriber has managed to retrieve the subscription\u2019s offset, we can use the modifyOffset api call  to move the indices around and re-consume/replay a subscription\u2019s messages."),Object(r.b)("p",null,"For example, if we have the offsets(max:300, min:220, current: 288), moving the current offset to 285, will allow the subscriber to again consume the messages ","[286,287,288]","."),Object(r.b)("p",null,"Last but not least, it is important to note that a message is being kept available through the AMS api for 7 days. After that time period has passed, it is no longer available and no offset can access it."),Object(r.b)("h2",{id:"before-you-start"},"Before you start"),Object(r.b)("p",null,"In order to get an account on the ARGO Messaging Service, submit a request through the ",Object(r.b)("a",Object(i.a)({parentName:"p"},{href:"https://docs.google.com/forms/d/e/1FAIpQLScfMCYPkUqUa5lT046RK1yCR4yn6M96WbgD5DMlNJ-zRFHSRA/viewform"}),"ARGO Messaging Service account form")),Object(r.b)("p",null,"Upon account approval, you will receive information via e-mail about your new project along with an API token."),Object(r.b)("h2",{id:"get-subscriptions-offsets"},"Get Subscription's offsets"),Object(r.b)("p",null,"A subscription\u2019s offsets can be accessed through the API using the following http call ",Object(r.b)("a",Object(i.a)({parentName:"p"},{href:"https://argoeu.github.io/argo-messaging/docs/api_subscriptions#get-get-offsets."}),"Get Subscription's offsets")),Object(r.b)("h2",{id:"get-subscriptions-offsets-by-timestamp"},"Get Subscription's offsets by timestamp"),Object(r.b)("p",null,"The following http call gives access to the aforementioned functionality ",Object(r.b)("a",Object(i.a)({parentName:"p"},{href:"https://argoeu.github.io/argo-messaging/docs/api_subscriptions#get-get-offset-by-timestamp"}),"Get Subscription's offsets by timestamp"),"."),Object(r.b)("h2",{id:"move-subscriptions-offsets"},"Move Subscription's offsets"),Object(r.b)("p",null,"The following http call gives access to the modifyOffset api call ",Object(r.b)("a",Object(i.a)({parentName:"p"},{href:"https://argoeu.github.io/argo-messaging/docs/api_subscriptions#post-modify-offsets"}),"Move Subscription's offsets")," to move the indices around and re-consume/replay a subscription\u2019s messages."))}p.isMDXComponent=!0},92:function(e,t,s){"use strict";s.d(t,"a",(function(){return l})),s.d(t,"b",(function(){return g}));var i=s(0),n=s.n(i);function r(e,t,s){return t in e?Object.defineProperty(e,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):e[t]=s,e}function o(e,t){var s=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),s.push.apply(s,i)}return s}function a(e){for(var t=1;t<arguments.length;t++){var s=null!=arguments[t]?arguments[t]:{};t%2?o(Object(s),!0).forEach((function(t){r(e,t,s[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(s)):o(Object(s)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(s,t))}))}return e}function c(e,t){if(null==e)return{};var s,i,n=function(e,t){if(null==e)return{};var s,i,n={},r=Object.keys(e);for(i=0;i<r.length;i++)s=r[i],t.indexOf(s)>=0||(n[s]=e[s]);return n}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(i=0;i<r.length;i++)s=r[i],t.indexOf(s)>=0||Object.prototype.propertyIsEnumerable.call(e,s)&&(n[s]=e[s])}return n}var u=n.a.createContext({}),p=function(e){var t=n.a.useContext(u),s=t;return e&&(s="function"==typeof e?e(t):a(a({},t),e)),s},l=function(e){var t=p(e.components);return n.a.createElement(u.Provider,{value:t},e.children)},b={inlineCode:"code",wrapper:function(e){var t=e.children;return n.a.createElement(n.a.Fragment,{},t)}},f=n.a.forwardRef((function(e,t){var s=e.components,i=e.mdxType,r=e.originalType,o=e.parentName,u=c(e,["components","mdxType","originalType","parentName"]),l=p(s),f=i,g=l["".concat(o,".").concat(f)]||l[f]||b[f]||r;return s?n.a.createElement(g,a(a({ref:t},u),{},{components:s})):n.a.createElement(g,a({ref:t},u))}));function g(e,t){var s=arguments,i=t&&t.mdxType;if("string"==typeof e||i){var r=s.length,o=new Array(r);o[0]=f;var a={};for(var c in t)hasOwnProperty.call(t,c)&&(a[c]=t[c]);a.originalType=e,a.mdxType="string"==typeof e?e:i,o[1]=a;for(var u=2;u<r;u++)o[u]=s[u];return n.a.createElement.apply(null,o)}return n.a.createElement.apply(null,s)}f.displayName="MDXCreateElement"}}]);